<!DOCTYPE html>
<html lang="es" ng-app>
  <head>
    <meta charset="UTF-8">
    <title>Intranet SGA</title>

    <!--Mobile first-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--IE Compatibility modes-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="msapplication-TileColor" content="#5bc0de">
    <meta name="msapplication-TileImage" content="img/metis-tile.png">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


    <!--Icon-->
    <link href="img/lcb.jpg" rel="shortcut icon">
    <link href="img/lcb.jpg" type="image/ico" rel="icon">
    
    <!-- Bootstrap -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="bower_components/css3-magic/magic.min.css">
    <link rel="stylesheet" href="bower_components/angular-motion/dist/angular-motion.min.css">
    <link rel="stylesheet" href="bower_components/angular-block-ui/dist/angular-block-ui.min.css">
  
    <link rel="stylesheet" href="bower_components/bootstrap-additions/dist/bootstrap-additions.min.css">

    <!-- Metis core stylesheet -->
    <link rel="stylesheet" href="css/app.css">
    
    <link rel="stylesheet" href="bower_components/fullcalendar/dist/fullcalendar.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->

    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->

    <!--[if lt IE 9]>
      <script src="bower_components/html5shiv/html5shiv.js"></script>
        <script src="bower_components/respond/respond.min.js"></script>
      <![endif]-->

    <!--Modernizr 3.0-->
    <script src="bower_components/modernizr/modernizr.js"></script>

  </head>
  <body data-ng-controller="MainController" ng-class="{'modal-open' : modalOpened}">

<div ng-switch on="hayClasesEnEsteMomento">
  <div ng-switch-when="true">
    <div id="currentTime" 
        data-access-level='accessLevels.user'  
        class="alert alert-success bg-success lter centerAlertMsg hiddenDiv cursor-hand" 
        data-html="true" ng-click="redirectToAsistencia(true)" style=" top:55px;border-top-width: 2px;border-left-width: 2px;border-color: rgb(226, 234, 226);border-right-width: 2px;border-bottom-width: 2px;height:65px;z-index:12 !important;" 
      
        >
        <div style="font-size:10pt;height:16px;"><b>{{claseActualTitulo}}</b></div>
        {{timeFormat(getCurrentTime())}} <br>{{getMensajeDeClasesActuales()}}
    </div>
  </div>
</div>

    <div id="wrap"
      ng-class="{true: 'inlogin', false: 'nologin' }[estaLogueado()]">

      <div id="top" data-access-level='accessLevels.user' class="hiddenDiv">
        <!-- .navbar -->
        <nav class="nav navbar navbar-inverse navbar-static-top " style="z-index:1050">

          <!-- Brand and toggle get grouped for better mobile display -->
          <header class="navbar-header " style=" width: 100%;" >
            <!-- You can use a custom html template with the `data-template` attr -->
            <a ui-sref="public.home" class="navbar-brand">
                <img src="img/logo_vert.jpg" class="visible-xs logo shadowCustom" />
                <img src="img/logo_ilcb.png" class="hidden-xs logo shadowCustom" />
            </a>
            <!------Componentes with responsive design---->
            <div style="float:right;" class="visible-xs">
              <a data-toggle="modal" title="Ayuda" data-placement="left"
                class="btn btn-default btn-sm navbar-btn" href="#helpModal">
                <i class="glyphicon glyphicon-flag"></i>
              </a>
              <button type="button" 
                class="btn btn-default btn-sm text-right navbar-btn"
                title="menu"
                data-template="views/template/index.menu.html"
                data-placement="bottom" data-animation="am-fade-and-slide-left"
                bs-aside="aside" >
                <i class="glyphicon glyphicon-home"></i>
              </button> 
              <a data-toggle="tooltip" data-original-title="Salir"
                data-placement="bottom" class="btn btn-metis-1 btn-sm navbar-btn"
                ng-click="logout()">
                <i class="fa fa-power-off"></i>
              </a>
            </div>

            <div style="float:right;" class="hidden-xs" >
              <!--<button type="button" name="btnAvisos"
                class="btn btn-lg btn-primary btn-sm navbar-btn" 
                data-placement="bottom" data-animation="am-flip-x" 
                data-template="views/template/Avisos.html" title="Avisos" 
                data-container="body" bs-popover style="font-size:10pt;">
                  <i class="fa fa-envelope"></i>
                  <span class="label label-warning" ng-bind="totalAvisos"></span> 
                  <b>Avisos</b>
              </button>-->

              <a data-toggle="modal" data-original-title="Help" data-placement="bottom" 
                class="btn btn-default btn-sm navbar-btn" title="Ayuda" style="font-size:10pt;"
                ng-click="toggleModal()">
                <i class="glyphicon glyphicon-flag" ></i>
                <b>¿Ayuda?</b>
              </a> 

              

              <button type="button" 
                class="btn btn-default btn-sm text-right navbar-btn"
                title="Menú"
                data-template="views/template/index.menu.html" 
                data-placement="left" data-animation="am-fade-and-slide-left" 
                bs-aside="aside" style="font-size:10pt;">
                <i class="glyphicon glyphicon-home "></i> 
                <b>Menú Principal</b>
              </button>  

              <a data-toggle="tooltip" data-original-title="Salir" 
                data-placement="bottom" class="btn btn-metis-1 btn-sm navbar-btn"
                ng-click="logout()" style="font-size:10pt;">
                <i class="fa fa-power-off"></i>
                <b>Salir</b>
              </a>         

            </div>
          </header>
        </nav><!-- /.navbar -->
        <!-- end header.head -->
      </div><!-- /#top -->

      <div id="content">
          
        <div ng-class="{'outer': estaLogueado()}">
          <div ng-class="{'inner': estaLogueado()}">
            <div class="col-lg-12">             
                <div data-ui-view></div>
            </div>

          <!-- end .inner -->
          </div>

        <!-- end .outer -->
        </div>
      </div>

      <!-- end #content -->
    </div><!-- /#wrap -->
    
    <div bs-affix-target>
      <footer id="footer" data-access-level='accessLevels.user' class="hiddenDiv"
          bs-affix data-offset-bottom="0">
        <p>2014 &copy; Instituto Le Cordon Bleu Per&uacute;</p>
      </footer>
    </div>

    <!-- #helpModal -->
    <div id="helpModal" class="modal fade" ng-class="{'in modal-visible' : modalOpened}">
      <div class="modal-dialog box primary" style="top:13%;">
        <div class="modal-content" >
        
        <header>
          <div class="modal-header" >
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click ="toggleModal()">&times;</button>
              <h4 class="modal-title">Acerca del sistema</h4>
          </div>
          </header>
          
          <form name="emailForm" class="form-signin">
            <div class="modal-body">
              <p>
                Bienvenido a la Intranet para docentes de Le Cordon Bleu Perú.
              </p>
              <p>
                ¿Tiene alguna duda, consulta o queja? Mándanos un mensaje. <br><br>
                <textarea rows="3" style="resize:none; width:100%;" ng-model="message" required ></textarea>
              </p>
            </div>
            <div class="modal-footer">
              <button class="btn btn-default" type="summit" ng-click="enviarMensajeDeTexto()" 
                data-dismiss="modal" ng-disabled="emailForm.$invalid">Enviar</button>
              <button type="button" class="btn btn-default" data-dismiss="modal" 
               ng-click ="toggleModal()" >Cerrar</button>
            </div>
          </form>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal --><!-- /#helpModal -->
    
	 <script data-main="js/main" src="bower_components/requirejs/require.js"></script>
   <div class="modal-backdrop fade" ng-if="modalOpened" ng-class="{'in' : modalOpened}"></div>
  </body>
</html>

